"use strict";function loadData(){for(var e=document.getElementsByTagName("ul")[0];e.firstChild;)e.removeChild(e.firstChild);var t=document.getElementsByClassName("results-title")[0];t.style.display="none",t.firstElementChild&&t.removeChild(t.firstElementChild);var s=document.getElementsByClassName("query-field")[0].value;if(s){var a=new XMLHttpRequest,n="https://pixabay.com/api?key=12682041-c02212121d8f52a952705a821&q="+s+"&image_type=photo";a.open("GET",n),a.send(),a.onreadystatechange=function(){4==a.readyState&&(200!=a.status?alert(a.status+": "+a.statusText):renderData(JSON.parse(a.responseText)))}}else toggleVisibilityNoHitsSection()}function renderData(e){var a=document.getElementsByClassName("search-results")[0].getElementsByTagName("ul")[0];e.hits.length<1?toggleVisibilityNoHitsSection():(e.hits.forEach(function(e){var t=a.appendChild(document.createElement("li")),s=document.createElement("img");s.src=e.previewURL,t.appendChild(s)}),document.getElementsByClassName("results-title")[0].style.display="block")}function toggleVisibilityNoHitsSection(){var e=document.getElementsByClassName("results-title")[0];if(e.style.display="block",!e.firstElementChild){var t=document.createElement("p");t.innerHTML="No hits",e.appendChild(t)}}document.addEventListener("DOMContentLoaded",function(){document.getElementsByClassName("btn-search")[0].addEventListener("click",loadData),document.getElementsByClassName("query-field")[0].addEventListener("keypress",function(e){13===e.keyCode&&loadData()})});